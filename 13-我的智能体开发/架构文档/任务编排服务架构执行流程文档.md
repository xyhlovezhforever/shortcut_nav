# ä»»åŠ¡ç¼–æ’æœåŠ¡ - æ¶æ„æ‰§è¡Œæµç¨‹æ–‡æ¡£

> **åˆ›å»ºæ—¶é—´**: 2026-01-15
> **æ–‡æ¡£ç‰ˆæœ¬**: v1.0
> **é€‚ç”¨èŒƒå›´**: ä»»åŠ¡ç¼–æ’æœåŠ¡å®Œæ•´æ¶æ„
> **ç»´æŠ¤è€…**: Task Orchestration Team

---

## ğŸ“‹ ç›®å½•

- [ç³»ç»Ÿæ¦‚è¿°](#ç³»ç»Ÿæ¦‚è¿°)
- [æ ¸å¿ƒæ¶æ„](#æ ¸å¿ƒæ¶æ„)
- [å®Œæ•´æ‰§è¡Œæµç¨‹](#å®Œæ•´æ‰§è¡Œæµç¨‹)
- [æ ¸å¿ƒæ¨¡å—è¯¦è§£](#æ ¸å¿ƒæ¨¡å—è¯¦è§£)
- [æ•°æ®æµè½¬æœºåˆ¶](#æ•°æ®æµè½¬æœºåˆ¶)
- [å…³é”®æŠ€æœ¯ç‰¹æ€§](#å…³é”®æŠ€æœ¯ç‰¹æ€§)
- [ä»£ç æ˜ å°„](#ä»£ç æ˜ å°„)

---

## ç³»ç»Ÿæ¦‚è¿°

### ç³»ç»Ÿå®šä½

**ä»»åŠ¡ç¼–æ’æœåŠ¡ (Task Orchestration Service)** æ˜¯ä¸€ä¸ªåŸºäºå¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰çš„æ™ºèƒ½ä»»åŠ¡ç¼–æ’ç³»ç»Ÿï¼Œé€šè¿‡ **Reflective Planningï¼ˆåæ€å¼è§„åˆ’ï¼‰** æœºåˆ¶ï¼Œå®ç°äº†ä»»åŠ¡çš„è‡ªåŠ¨åˆ†è§£ã€æ‰§è¡Œã€è¯„ä¼°å’Œæ™ºèƒ½æ¢å¤ã€‚

### æ ¸å¿ƒä»·å€¼

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ç³»ç»Ÿæ ¸å¿ƒä»·å€¼ä¸»å¼                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  ğŸ¯ æ™ºèƒ½ä»»åŠ¡åˆ†è§£     â”ƒ  ä»è‡ªç„¶è¯­è¨€ä»»åŠ¡æè¿°è‡ªåŠ¨ç”Ÿæˆæ‰§è¡Œè®¡åˆ’     â”‚
â”‚  ğŸ”„ è‡ªé€‚åº”è§„åˆ’       â”ƒ  åŸºäºæ‰§è¡Œåé¦ˆåŠ¨æ€è°ƒæ•´è®¡åˆ’ç­–ç•¥         â”‚
â”‚  ğŸ§  æ·±åº¦åæ€æœºåˆ¶     â”ƒ  ä¸¤çº§åæ€æ¶æ„ï¼ˆå•æ­¥+æ•´ä½“ï¼‰æ™ºèƒ½å†³ç­–     â”‚
â”‚  ğŸ› ï¸  å·¥å…·æ™ºèƒ½ç­›é€‰     â”ƒ  åŒæ¨¡å¼ç­›é€‰ï¼ˆé¢„æµ‹+ä¿®æ­£ï¼‰ä¼˜åŒ–å·¥å…·é€‰æ‹©   â”‚
â”‚  ğŸ“Š ä¸Šä¸‹æ–‡å·¥ç¨‹       â”ƒ  å®Œæ•´çš„æ‰§è¡Œå†å²ä¼ é€’ä¸æ•°æ®æµè½¬         â”‚
â”‚  âš¡ å¹¶è¡Œæ‰§è¡Œä¼˜åŒ–     â”ƒ  DAGä¾èµ–åˆ†æå®ç°æ­¥éª¤å¹¶è¡Œæ‰§è¡Œ          â”‚
â”‚  ğŸ” åŠ¨æ€å‚æ•°æ¨æ–­     â”ƒ  LLMé©±åŠ¨çš„æ™ºèƒ½å‚æ•°ç”Ÿæˆ               â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æŠ€æœ¯æ ˆ

| å±‚æ¬¡ | æŠ€æœ¯é€‰å‹ |
|------|---------|
| **ç¼–ç¨‹è¯­è¨€** | Rust ğŸ¦€ |
| **å¼‚æ­¥è¿è¡Œæ—¶** | Tokio |
| **HTTPæ¡†æ¶** | Axum |
| **RPCé€šä¿¡** | gRPC (Tonic) |
| **å¤§è¯­è¨€æ¨¡å‹** | ç»Ÿä¸€LLMæ¥å£ï¼ˆæ”¯æŒå¤šç§æ¨¡å‹ï¼‰ |
| **æ—¥å¿—ç³»ç»Ÿ** | Kafka + Tracing |
| **æœåŠ¡å‘ç°** | Consul (å¯é€‰) |
| **æ•°æ®ä¼ è¾“** | Server-Sent Events (SSE) |

---

## æ ¸å¿ƒæ¶æ„

### ç³»ç»Ÿæ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ä»»åŠ¡ç¼–æ’æœåŠ¡æ¶æ„                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          API å±‚ (API Layer)                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â€¢ REST API (Axum)          â€¢ gRPC API (Tonic)                      â”‚
â”‚  â€¢ SSE äº‹ä»¶æ¨é€              â€¢ å¥åº·æ£€æŸ¥ç«¯ç‚¹                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ç¼–æ’å±‚ (Orchestrator Layer)                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚              Orchestrator (æ ¸å¿ƒç¼–æ’å™¨)                     â”‚    â”‚
â”‚  â”‚  â€¢ Reflective Planning å¾ªç¯æ§åˆ¶                           â”‚    â”‚
â”‚  â”‚  â€¢ çŠ¶æ€ç®¡ç†ä¸äº‹ä»¶å‘é€                                      â”‚    â”‚
â”‚  â”‚  â€¢ ä¸Šä¸‹æ–‡å·¥ç¨‹äº‹ä»¶æ„å»º                                      â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚ Planner  â”‚  â”‚ Executor â”‚  â”‚Evaluator â”‚  â”‚Reflector â”‚          â”‚
â”‚  â”‚ è§„åˆ’å™¨   â”‚  â”‚ æ‰§è¡Œå™¨   â”‚  â”‚ è¯„ä¼°å™¨   â”‚  â”‚ åæ€å™¨   â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚       â”‚             â”‚              â”‚              â”‚                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚             â”‚              â”‚              â”‚
        â†“             â†“              â†“              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     èƒ½åŠ›å±‚ (Capability Layer)                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚  LLM Client         â”‚           â”‚  Tool Service       â”‚         â”‚
â”‚  â”‚  â€¢ æµå¼/éæµå¼è°ƒç”¨   â”‚           â”‚  â€¢ å·¥å…·æŸ¥è¯¢          â”‚         â”‚
â”‚  â”‚  â€¢ å¤šæ¨¡å‹æ”¯æŒ        â”‚           â”‚  â€¢ å·¥å…·æ‰§è¡Œ          â”‚         â”‚
â”‚  â”‚  â€¢ æç¤ºè¯ç®¡ç†        â”‚           â”‚  â€¢ å‚æ•°éªŒè¯          â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚  State Manager      â”‚           â”‚  Kafka Logger       â”‚         â”‚
â”‚  â”‚  â€¢ ä»»åŠ¡çŠ¶æ€å­˜å‚¨      â”‚           â”‚  â€¢ å®¡è®¡æ—¥å¿—          â”‚         â”‚
â”‚  â”‚  â€¢ å¹¶å‘è®¿é—®æ§åˆ¶      â”‚           â”‚  â€¢ æ‰§è¡Œæ—¥å¿—          â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ ¸å¿ƒç»„ä»¶èŒè´£

| ç»„ä»¶ | èŒè´£ | å…³é”®æ–‡ä»¶ |
|------|------|---------|
| **Orchestrator** | æ ¸å¿ƒå·¥ä½œæµç¨‹æ§åˆ¶ã€çŠ¶æ€ç®¡ç†ã€äº‹ä»¶å‘é€ | `src/core/orchestrator.rs` |
| **Planner** | ä»»åŠ¡è§„åˆ’ã€å·¥å…·ç­›é€‰ã€é‡æ–°è§„åˆ’ | `src/core/planner.rs` |
| **Executor** | æ­¥éª¤æ‰§è¡Œã€å‚æ•°è§£æã€å¹¶è¡Œè°ƒåº¦ | `src/core/executor.rs` |
| **Evaluator** | æ‰§è¡Œç»“æœè¯„ä¼°ã€æˆåŠŸç‡è®¡ç®— | `src/core/evaluator.rs` |
| **Reflector** | å•æ­¥åæ€ã€æ•´ä½“åæ€ã€å†³ç­–ç”Ÿæˆ | `src/core/reflector.rs` |
| **UnifiedLlmClient** | LLMè°ƒç”¨å°è£…ã€æµå¼å¤„ç† | `src/llm/unified_client.rs` |
| **ToolServiceClient** | å·¥å…·æŸ¥è¯¢ä¸æ‰§è¡Œä»£ç† | `src/tool/unified_client.rs` |

---

## å®Œæ•´æ‰§è¡Œæµç¨‹

### Reflective Planning å¾ªç¯

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Reflective Planning å®Œæ•´æµç¨‹                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                         â”‚  ä»»åŠ¡æäº¤    â”‚
                         â”‚ (Task API)  â”‚
                         â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â†“
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   ç­–ç•¥åˆ¤æ–­ (NEW!)    â”‚
                    â”‚ â€¢ æ™®é€šè§„åˆ’           â”‚
                    â”‚ â€¢ ç»§ç»­è§„åˆ’           â”‚
                    â”‚ â€¢ é‡æ–°è§„åˆ’           â”‚
                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â†“
        â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
        â”ƒ  é˜¶æ®µ 1: Planning (è§„åˆ’é˜¶æ®µ)          â”ƒ
        â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›
                           â”‚
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â”‚  ä¸¤é˜¶æ®µè§„åˆ’     â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚                             â”‚
            â†“                             â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Step 1.1       â”‚          â”‚ Step 1.2       â”‚
    â”‚ å·¥å…·ç­›é€‰        â”‚â”€â”€â”€â”€â”€â”€â†’  â”‚ ä»»åŠ¡åˆ†è§£        â”‚
    â”‚ (Tool Selection)â”‚         â”‚ (Task Breakdown)â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                         â”‚
                                         â†“
                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                              â”‚  ExecutionPlan   â”‚
                              â”‚  â€¢ steps[]       â”‚
                              â”‚  â€¢ dependencies  â”‚
                              â”‚  â€¢ parameters    â”‚
                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                       â”‚
                                       â†“
        â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
        â”ƒ  é˜¶æ®µ 2: Execution (æ‰§è¡Œé˜¶æ®µ)         â”ƒ
        â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›
                                       â”‚
                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                         â”‚   å¹¶è¡Œæ‰§è¡Œè°ƒåº¦             â”‚
                         â”‚   â€¢ DAG ä¾èµ–åˆ†æ           â”‚
                         â”‚   â€¢ åŠ¨æ€å‚æ•°æ¨æ–­           â”‚
                         â”‚   â€¢ æ•°æ®æ§½ä½æµè½¬           â”‚
                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                       â”‚
                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                  â”‚                    â”‚                    â”‚
                  â†“                    â†“                    â†“
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚ Step 1   â”‚         â”‚ Step 2   â”‚  ...   â”‚ Step N   â”‚
           â”‚ æ‰§è¡ŒæˆåŠŸ  â”‚         â”‚ æ‰§è¡Œå¤±è´¥  â”‚        â”‚          â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                                      â†“
                            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                            â”‚  å•æ­¥åæ€è§¦å‘     â”‚
                            â”‚  (Step Reflection)â”‚
                            â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                            â”‚
                    â†“                            â†“
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ ç®€å•é—®é¢˜          â”‚        â”‚ å¤æ‚é—®é¢˜          â”‚
         â”‚ â€¢ å‚æ•°è°ƒæ•´        â”‚        â”‚ â€¢ è§¦å‘æ•´ä½“åæ€    â”‚
         â”‚ â€¢ å·¥å…·æ›¿æ¢        â”‚        â”‚                  â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚                           â”‚
                  â†“                           â†“
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
         â”‚ é‡è¯•æ‰§è¡Œ      â”‚       â”ƒ é˜¶æ®µ 3: Overall       â”ƒ
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”ƒ Reflection (æ•´ä½“åæ€) â”ƒ
                                â”—â”â”â”â”â”â”â”â”â”â”³â”â”â”â”â”â”â”â”â”â”â”â”â”â”›
                                          â”‚
                                          â†“
                               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                               â”‚  æ·±åº¦åˆ†æ             â”‚
                               â”‚  â€¢ æ ¹æœ¬åŸå› åˆ†æ       â”‚
                               â”‚  â€¢ å®Œæˆåº¦è¯„ä¼°         â”‚
                               â”‚  â€¢ å¯æ¢å¤æ€§åˆ¤æ–­       â”‚
                               â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                        â”‚                           â”‚
                        â†“                           â†“
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚ should_replan    â”‚      â”‚ should_replan    â”‚
              â”‚ = false          â”‚      â”‚ = true           â”‚
              â”‚ åœæ­¢ä»»åŠ¡          â”‚      â”‚ è§¦å‘é‡æ–°è§„åˆ’      â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                 â”‚
                                                 â†“
                              â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
                              â”ƒ é˜¶æ®µ 4: Replanning         â”ƒ
                              â”ƒ (é‡æ–°è§„åˆ’)                 â”ƒ
                              â”—â”â”â”â”â”â”â”â”â”â”â”â”â”³â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›
                                           â”‚
                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                          â”‚  é‡æ–°è§„åˆ’å·¥å…·ç­›é€‰ (NEW!)         â”‚
                          â”‚  â€¢ åŸºäºæ‰§è¡Œåé¦ˆ                 â”‚
                          â”‚  â€¢ ä¿ç•™æˆåŠŸå·¥å…·                 â”‚
                          â”‚  â€¢ æ›¿æ¢å¤±è´¥å·¥å…·                 â”‚
                          â”‚  â€¢ è¡¥å……ç¼ºå¤±èƒ½åŠ›                 â”‚
                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                           â”‚
                                           â†“
                                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                  â”‚  ç”Ÿæˆæ–°æ‰§è¡Œè®¡åˆ’  â”‚
                                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                           â”‚
                                           â†“
                                  è¿”å›ã€é˜¶æ®µ 2: Executionã€‘


        â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
        â”ƒ  é˜¶æ®µ 5: Post-Task Evaluation            â”ƒ
        â”ƒ  (ä»»åŠ¡åè¯„ä¼° - æˆåŠŸæˆ–åœæ­¢å)              â”ƒ
        â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›
                               â”‚
                               â†“
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  ä»»åŠ¡å¤ç›˜             â”‚
                    â”‚  â€¢ æˆåŠŸ/å¤±è´¥åˆ†æ      â”‚
                    â”‚  â€¢ ç»éªŒæ€»ç»“           â”‚
                    â”‚  â€¢ æ”¹è¿›å»ºè®®           â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                               â†“
                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                       â”‚  ä»»åŠ¡å®Œæˆ      â”‚
                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ‰§è¡Œæµç¨‹é˜¶æ®µè¯¦è§£

#### é˜¶æ®µ0: ç­–ç•¥åˆ¤æ–­ (Planning Strategy Detection) ğŸ†•

**è§¦å‘æ—¶æœº**: ä»»åŠ¡æäº¤åã€è§„åˆ’å¼€å§‹å‰

**èŒè´£**:
- LLMæ™ºèƒ½åˆ¤æ–­ä»»åŠ¡æ„å›¾ï¼ˆæ™®é€šè§„åˆ’ã€ç»§ç»­è§„åˆ’ã€é‡æ–°è§„åˆ’ï¼‰
- å‡†ç¡®ç‡ä» 70% æå‡åˆ° 95%

**å…³é”®æ–‡ä»¶**: `src/llm/continue_planning_prompts.rs:324-536`

**è¾“å‡º**:
```rust
PlanningStrategyDetectionResult {
    strategy: PlanningStrategy::ContinuePlanning,  // æˆ– NormalPlanning/Replanning
    confidence: 92.0,  // ç½®ä¿¡åº¦åˆ†æ•°
    reasoning: "ç”¨æˆ·è¾“å…¥'ç»§ç»­'ï¼Œä»»åŠ¡IDå­˜åœ¨ï¼Œåˆ¤æ–­ä¸ºç»§ç»­è§„åˆ’"
}
```

---

#### é˜¶æ®µ1: Planning (è§„åˆ’é˜¶æ®µ)

**ä¸¤é˜¶æ®µè§„åˆ’æ¶æ„**

##### Step 1.1: å·¥å…·ç­›é€‰ (Tool Selection)

**èŒè´£**: ä»å¤§é‡å·¥å…·ä¸­å¿«é€Ÿç­›é€‰å‡ºä»»åŠ¡ç›¸å…³çš„å·¥å…·

**ä¸¤ç§æ¨¡å¼**:

1. **é¦–æ¬¡è§„åˆ’å·¥å…·ç­›é€‰** (é¢„æµ‹æ€§ç­›é€‰)
   - åŸºäºä»»åŠ¡æè¿°å’Œæ„å›¾è¯†åˆ«
   - ç­–ç•¥: æ„å›¾ä¼˜å…ˆ + è¯­ä¹‰è¡¥å……
   - æç¤ºè¯: `TOOL_SELECTION_SYSTEM_PROMPT`

2. **é‡æ–°è§„åˆ’å·¥å…·ç­›é€‰** (ä¿®æ­£æ€§ç­›é€‰) ğŸ†•
   - åŸºäºæ‰§è¡Œåé¦ˆå’Œåæ€ç»“æœ
   - ç­–ç•¥: ä¿ç•™/æ›¿æ¢/è¡¥å……/ç§»é™¤
   - æç¤ºè¯: `REPLANNING_TOOL_SELECTION_SYSTEM_PROMPT`

**å…³é”®æ–‡ä»¶**:
- `src/core/planner.rs:481-611` - `select_relevant_tools()`
- `src/core/planner.rs:1845-2071` - `select_tools_for_replanning()`
- `src/llm/selection_prompts.rs` - æç¤ºè¯æ¨¡æ¿

**è¾“å‡º**:
- ç­›é€‰åçš„å·¥å…·IDåˆ—è¡¨
- ä»»åŠ¡ç±»å‹è¯†åˆ«
- ç­›é€‰ç½®ä¿¡åº¦

##### Step 1.2: ä»»åŠ¡åˆ†è§£ (Task Breakdown)

**èŒè´£**: åŸºäºç­›é€‰åçš„å·¥å…·ç”Ÿæˆè¯¦ç»†æ‰§è¡Œè®¡åˆ’

**æ ¸å¿ƒåŠŸèƒ½**:
- æ­¥éª¤åˆ†è§£ï¼ˆstep decompositionï¼‰
- ä¾èµ–å…³ç³»åˆ†æï¼ˆdependency analysisï¼‰
- å‚æ•°å ä½ç¬¦è®¾ç½®ï¼ˆparameter placeholderï¼‰
- å¹¶è¡Œæœºä¼šè¯†åˆ«ï¼ˆparallel opportunitiesï¼‰

**å…³é”®æ–‡ä»¶**: `src/core/planner.rs` - `generate_plan_with_sender()`

**è¾“å‡º**: `ExecutionPlan`
```rust
ExecutionPlan {
    plan_id: "plan_xxx",
    steps: Vec<PlanStep>,  // æ‰§è¡Œæ­¥éª¤åˆ—è¡¨
    estimated_duration: 120,  // é¢„ä¼°è€—æ—¶ï¼ˆç§’ï¼‰
    description: "ä»»åŠ¡æ‰§è¡Œè®¡åˆ’",
}

PlanStep {
    step_id: "step_1",
    name: "æ•°æ®é‡‡é›†",
    tool: "bms_data_collector",
    parameters: {"device_id": "{{metadata.device_id}}"},  // å‚æ•°å ä½ç¬¦
    dependencies: [],  // ä¾èµ–æ­¥éª¤ID
    expected_output: "é‡‡é›†åˆ°çš„æ•°æ®",
    actions: [],  // æ­¥éª¤å†…å¹¶è¡Œæ“ä½œ
}
```

---

#### é˜¶æ®µ2: Execution (æ‰§è¡Œé˜¶æ®µ)

**æ ¸å¿ƒèƒ½åŠ›**: å¹¶è¡Œæ‰§è¡Œã€åŠ¨æ€å‚æ•°ã€æ•°æ®æµè½¬

##### å¹¶è¡Œæ‰§è¡Œè°ƒåº¦

**DAGä¾èµ–åˆ†æ**:
```rust
// æ­¥éª¤ä¾èµ–å…³ç³»
Step 1 (æ— ä¾èµ–) â”€â”
Step 2 (æ— ä¾èµ–) â”€â”¼â”€â†’ å¯å¹¶è¡Œ
Step 3 (æ— ä¾èµ–) â”€â”˜

Step 4 (ä¾èµ–1,2,3) â”€â†’ ç­‰å¾…å‰åºå®Œæˆ
```

**å…³é”®æ–‡ä»¶**: `src/core/parallel_executor.rs`

**é…ç½®**:
- `enable_parallel_execution`: æ˜¯å¦å¯ç”¨å¹¶è¡Œ
- `parallel_max_concurrent`: æœ€å¤§å¹¶å‘æ•°
- `parallel_min_steps`: æœ€å°æ­¥éª¤æ•°é˜ˆå€¼

##### åŠ¨æ€å‚æ•°æ¨æ–­

**ä¸‰å±‚æ•°æ®æµè½¬æœºåˆ¶**:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   æ•°æ®æ§½ä½æµè½¬æœºåˆ¶                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚  1ï¸âƒ£ Initial Metadata (åˆå§‹å…ƒæ•°æ®)                        â”‚
â”‚     â€¢ ç”¨æˆ·æäº¤çš„å›ºå®šå‚æ•°                                  â”‚
â”‚     â€¢ ä»»åŠ¡çº§é…ç½®ä¿¡æ¯                                      â”‚
â”‚                                                          â”‚
â”‚  2ï¸âƒ£ Runtime Metadata (è¿è¡Œæ—¶å…ƒæ•°æ®)                      â”‚
â”‚     â€¢ æ­¥éª¤è¾“å‡ºè‡ªåŠ¨æµå…¥                                    â”‚
â”‚     â€¢ å‚æ•°å ä½ç¬¦å¼•ç”¨æ¥æº                                  â”‚
â”‚                                                          â”‚
â”‚  3ï¸âƒ£ Step Results (æ­¥éª¤ç»“æœ)                              â”‚
â”‚     â€¢ æ¯ä¸ªæ­¥éª¤çš„å®Œæ•´è¾“å‡º                                  â”‚
â”‚     â€¢ æ”¯æŒ {{step_id.output}} å¼•ç”¨                       â”‚
â”‚                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**å‚æ•°è§£æç¤ºä¾‹**:
```rust
// è§„åˆ’é˜¶æ®µè®¾ç½®å ä½ç¬¦
parameters: {
    "device_id": "{{metadata.device_id}}",      // å¼•ç”¨å…ƒæ•°æ®
    "input_data": "{{step_1.output}}",          // å¼•ç”¨å‰åºæ­¥éª¤è¾“å‡º
    "config": "{{action_init.output}}"          // å¼•ç”¨actionè¾“å‡º
}

// æ‰§è¡Œé˜¶æ®µåŠ¨æ€æ›¿æ¢
ParameterResolver::resolve() {
    "device_id" â†’ "device_001"                   // ä» metadata è·å–
    "input_data" â†’ "{...step1çš„å®é™…è¾“å‡º...}"     // ä» step_results è·å–
    "config" â†’ "{...initæ“ä½œçš„è¾“å‡º...}"          // ä» action_results è·å–
}
```

**å…³é”®æ–‡ä»¶**:
- `src/core/execution_context.rs` - æ‰§è¡Œä¸Šä¸‹æ–‡ç®¡ç†
- `src/core/parameter_resolver.rs` - å‚æ•°è§£æå™¨

##### å·¥å…·æ‰§è¡Œ

**æ‰§è¡Œæµç¨‹**:
1. è§£æå‚æ•°ï¼ˆParameterResolverï¼‰
2. è°ƒç”¨å·¥å…·ï¼ˆToolServiceClientï¼‰
3. è®°å½•ç»“æœï¼ˆStepExecutionResultï¼‰
4. æµè½¬æ•°æ®ï¼ˆæ›´æ–° runtime_metadataï¼‰

**å…³é”®æ–‡ä»¶**: `src/core/executor.rs`

##### å¤±è´¥å¤„ç†: å•æ­¥åæ€

**è§¦å‘æ—¶æœº**: æ­¥éª¤æ‰§è¡Œå¤±è´¥

**åˆ†æç»´åº¦**:
- å¤±è´¥åŸå› åˆ†ç±»ï¼ˆå‚æ•°/å·¥å…·/ä¾èµ–/åˆ†è§£é”™è¯¯ï¼‰
- å¯æ¢å¤æ€§è¯„ä¼°
- è§£å†³æ–¹æ¡ˆå»ºè®®

**å†³ç­–è¾“å‡º** (`StepAction`):
```rust
enum StepAction {
    RetryWithAdjustedParams(HashMap<String, String>),  // å‚æ•°è°ƒæ•´
    RetryWithAlternativeTool(String),                  // å·¥å…·æ›¿æ¢
    ReplanEntireTask,                                  // ä»»åŠ¡é‡è§„åˆ’
    TriggerOverallReflection(String),                  // è§¦å‘æ•´ä½“åæ€
}
```

**å…³é”®æ–‡ä»¶**:
- `src/core/reflector.rs:1072-1288` - `reflect_on_single_step()`
- `src/llm/reflection_prompts.rs:790-1459` - å•æ­¥åæ€æç¤ºè¯

---

#### é˜¶æ®µ3: Overall Reflection (æ•´ä½“åæ€)

**è§¦å‘æ—¶æœº**: å•æ­¥åæ€æ— æ³•è§£å†³ æˆ– å¤šæ¬¡å¤±è´¥

**åˆ†ææµç¨‹**:
```
1. æ£€æŸ¥é‡å¤å¤±è´¥ â†’ é¿å…æ— æ•ˆé‡è¯•
2. è¯„ä¼°å®Œæˆåº¦ â†’ â‰¥80% è€ƒè™‘åœæ­¢
3. åˆ†æé—®é¢˜ç±»å‹ï¼š
   â”œâ”€ å‚æ•°é…ç½®é”™è¯¯ â†’ å»ºè®®é‡æ–°è§„åˆ’ï¼ˆè°ƒæ•´å‚æ•°ï¼‰
   â”œâ”€ å·¥å…·é€‰æ‹©é”™è¯¯ â†’ å»ºè®®é‡æ–°è§„åˆ’ï¼ˆæ›´æ¢å·¥å…·ï¼‰
   â”œâ”€ ä»»åŠ¡åˆ†è§£é”™è¯¯ â†’ å»ºè®®é‡æ–°è§„åˆ’ï¼ˆä¼˜åŒ–æ­¥éª¤ï¼‰
   â””â”€ å¤–éƒ¨ç¯å¢ƒé”™è¯¯ â†’ å»ºè®®åœæ­¢ä»»åŠ¡
4. ç”Ÿæˆç»†ç²’åº¦é‡è§„åˆ’ç­–ç•¥
```

**é‡è§„åˆ’ç­–ç•¥** (`ReplanningStrategy`):
```rust
enum ReplanningStrategy {
    FullReplan,                              // å®Œæ•´é‡æ–°è§„åˆ’
    ReplanFromStep { step_id, reason },      // ä»æŒ‡å®šæ­¥éª¤é‡è§„åˆ’
    SkipSteps { step_ids, reason },          // è·³è¿‡ä¸å¿…è¦æ­¥éª¤
    AddRemediationSteps { suggestions },     // æ·»åŠ è¡¥æ•‘æ­¥éª¤
    AdjustDependencies { adjustments },      // è°ƒæ•´ä¾èµ–å…³ç³»
}
```

**è¾“å‡ºç»“æ„** (`ReflectionResult`):
```rust
ReflectionResult {
    root_causes: Vec<String>,                // æ ¹æœ¬åŸå› 
    incorrect_assumptions: Vec<String>,      // é”™è¯¯å‡è®¾
    alternative_approaches: Vec<String>,     // æ›¿ä»£æ–¹æ³•
    optimization_suggestions: Vec<...>,      // ä¼˜åŒ–å»ºè®®
    lessons_learned: Vec<String>,            // ç»éªŒæ•™è®­

    should_replan: bool,                     // ğŸ”‘ æ˜¯å¦é‡æ–°è§„åˆ’ï¼ˆLLMå†³å®šï¼‰
    replanning_strategy: Option<...>,        // ğŸ”‘ é‡è§„åˆ’ç­–ç•¥å»ºè®®
}
```

**å…³é”®ç‰¹æ€§**:
- âœ… LLMè‡ªä¸»å†³å®šæ˜¯å¦é‡æ–°è§„åˆ’ï¼ˆæ— ç¡¬ç¼–ç è½®æ•°é™åˆ¶ï¼‰
- âœ… 5ç« èŠ‚ç»“æ„åŒ–è¾“å‡ºï¼ˆæ˜“äºè§£æå’Œå±•ç¤ºï¼‰
- âœ… æä¾›ç»†ç²’åº¦ç­–ç•¥å»ºè®®

**å…³é”®æ–‡ä»¶**:
- `src/core/reflector.rs:376-511` - `perform_overall_reflection()`
- `src/llm/reflection_prompts.rs:323-788` - æ•´ä½“åæ€æç¤ºè¯

---

#### é˜¶æ®µ4: Replanning (é‡æ–°è§„åˆ’)

**è§¦å‘æ¡ä»¶**: `should_replan == true`

**æ ¸å¿ƒä¼˜åŒ–**: åŒæ¨¡å¼å·¥å…·ç­›é€‰ ğŸ†•

##### é‡æ–°è§„åˆ’å·¥å…·ç­›é€‰

**è¾“å…¥ä¸Šä¸‹æ–‡** (`ReplanningToolSelectionContext`):
```rust
ReplanningToolSelectionContext {
    previous_tools: Vec<PreviousToolInfo>,    // ğŸ”‘ ä¹‹å‰å·¥å…·çš„æ‰§è¡Œæ•ˆæœ
    execution_history: String,                // ğŸ”‘ æ ¼å¼åŒ–çš„æ‰§è¡Œå†å²
    reflection_analysis: String,              // ğŸ”‘ åæ€åˆ†æç»“æœ
    overall_reflection_guidance: String,      // ğŸ”‘ æ•´ä½“åæ€æŒ‡å¯¼
}
```

**ç­›é€‰ç­–ç•¥**:
```
ç¬¬1æ­¥ï¼šåˆ†æä¹‹å‰çš„å·¥å…·é—®é¢˜
  â”œâ”€ å“ªäº›å·¥å…·æ‰§è¡ŒæˆåŠŸï¼Ÿâ†’ åº”è¯¥ä¿ç•™
  â”œâ”€ å“ªäº›å·¥å…·æ‰§è¡Œå¤±è´¥ï¼Ÿâ†’ ä¸ºä»€ä¹ˆå¤±è´¥ï¼Ÿ
  â””â”€ æ˜¯å¦å­˜åœ¨èƒ½åŠ›ç¼ºå£ï¼Ÿâ†’ éœ€è¦è¡¥å……

ç¬¬2æ­¥ï¼šé‡‡çº³æ•´ä½“åæ€å»ºè®®
  â””â”€ ä¼˜å…ˆé€‰æ‹©åæ€å»ºè®®çš„å·¥å…·ç±»å‹

ç¬¬3æ­¥ï¼šé‡æ–°ç­›é€‰å·¥å…·é›†
  â”œâ”€ âœ… ä¿ç•™ï¼šæˆåŠŸçš„å·¥å…·
  â”œâ”€ ğŸ”„ æ›¿æ¢ï¼šå¤±è´¥å·¥å…· â†’ ç›¸ä¼¼ä½†æ›´å¯é çš„å·¥å…·
  â”œâ”€ â• è¡¥å……ï¼šé—æ¼çš„èƒ½åŠ›
  â””â”€ âŒ ç§»é™¤ï¼šæ— æ•ˆçš„å·¥å…·

ç¬¬4æ­¥ï¼šéªŒè¯æ–°å·¥å…·é›†
  â”œâ”€ è§£å†³äº†èƒ½åŠ›ç¼ºå£ï¼Ÿ
  â”œâ”€ é¿å¼€äº†å¤±è´¥ç‚¹ï¼Ÿ
  â””â”€ é‡‡çº³äº†åæ€å»ºè®®ï¼Ÿ
```

**å…³é”®æ–‡ä»¶**:
- `src/core/planner.rs:1845-2071` - `select_tools_for_replanning()`
- `src/llm/selection_prompts.rs:267-461` - é‡æ–°è§„åˆ’ç­›é€‰æç¤ºè¯

##### ä»»åŠ¡é‡æ–°åˆ†è§£

åŸºäºä¼˜åŒ–åçš„å·¥å…·é›†ï¼Œç”Ÿæˆæ–°çš„æ‰§è¡Œè®¡åˆ’ã€‚

**å…³é”®å·®å¼‚**:
- è¾“å…¥åŒ…å«: åæ€ç»“æœã€æ‰§è¡Œå†å²ã€ç»†ç²’åº¦ç­–ç•¥
- æç¤ºè¯å¼ºè°ƒ: é¿å…é‡å¤å¤±è´¥ã€é‡‡çº³æ”¹è¿›å»ºè®®

**å…³é”®æ–‡ä»¶**: `src/llm/replanning_prompts.rs`

---

#### é˜¶æ®µ5: Post-Task Evaluation (ä»»åŠ¡åè¯„ä¼°)

**è§¦å‘æ—¶æœº**: ä»»åŠ¡æˆåŠŸå®Œæˆ æˆ– æœ€ç»ˆåœæ­¢

**è¯„ä¼°ç»´åº¦**:
```rust
EvaluationDimensions {
    completeness: f32,   // å®Œæ•´æ€§ (0-100)
    correctness: f32,    // æ­£ç¡®æ€§ (0-100)
    efficiency: f32,     // æ•ˆç‡æ€§ (0-100)
    reliability: f32,    // å¯é æ€§ (0-100)
}
```

**è¾“å‡ºå†…å®¹**:
- æ€»ä½“è¯„åˆ†
- æˆåŠŸ/å¤±è´¥åˆ†æ
- æ”¹è¿›å»ºè®®
- ç»éªŒæ€»ç»“

**å…³é”®æ–‡ä»¶**: `src/core/post_task_evaluator.rs`

---

## æ ¸å¿ƒæ¨¡å—è¯¦è§£

### 1. Orchestrator (ç¼–æ’å™¨)

**èŒè´£**: æ ¸å¿ƒå·¥ä½œæµç¨‹æ§åˆ¶

**å…³é”®åŠŸèƒ½**:

1. **Reflective Planning å¾ªç¯æ§åˆ¶**
   ```rust
   loop {
       Planning â†’ Execution â†’ Evaluation â†’ Reflection
       if !should_replan { break; }
   }
   ```

2. **ä¸Šä¸‹æ–‡å·¥ç¨‹äº‹ä»¶æ„å»º** (`ContextEngineeringEventBuilder`)
   - æ”¶é›†æˆåŠŸæ­¥éª¤
   - è®°å½•å¤±è´¥æ­¥éª¤
   - æ ¼å¼åŒ–æ‰§è¡Œå†å²

3. **äº‹ä»¶å‘é€** (`EventSender` trait)
   - è½®æ¬¡å¼€å§‹/ç»“æŸ
   - æ­¥éª¤å¼€å§‹/å®Œæˆ
   - LLMè°ƒç”¨çŠ¶æ€
   - è¿›åº¦æ›´æ–°

**å…³é”®æ–‡ä»¶**: `src/core/orchestrator.rs` (çº¦ 3000+ è¡Œ)

**æ ¸å¿ƒæ–¹æ³•**:
- `orchestrate_task()` - ä¸»å¾ªç¯æ§åˆ¶
- `handle_step_failure()` - æ­¥éª¤å¤±è´¥å¤„ç†
- `perform_overall_reflection()` - æ•´ä½“åæ€è§¦å‘

---

### 2. Planner (è§„åˆ’å™¨)

**èŒè´£**: ä»»åŠ¡è§„åˆ’ã€å·¥å…·ç­›é€‰

**å…³é”®åŠŸèƒ½**:

1. **ç­–ç•¥åˆ¤æ–­** ğŸ†•
   ```rust
   detect_planning_strategy_with_llm(task, llm_client)
     â†’ PlanningStrategy::{Normal, Continue, Replan}
   ```

2. **åŒæ¨¡å¼å·¥å…·ç­›é€‰**
   - é¦–æ¬¡ç­›é€‰: é¢„æµ‹æ€§ï¼ˆåŸºäºéœ€æ±‚ï¼‰
   - é‡æ–°ç­›é€‰: ä¿®æ­£æ€§ï¼ˆåŸºäºåé¦ˆï¼‰

3. **ä¸¤é˜¶æ®µè§„åˆ’**
   - é˜¶æ®µ1: å·¥å…·ç­›é€‰ï¼ˆTokenä¼˜åŒ–ï¼‰
   - é˜¶æ®µ2: ä»»åŠ¡åˆ†è§£ï¼ˆè¯¦ç»†è§„åˆ’ï¼‰

4. **åœºæ™¯æ„ŸçŸ¥æç¤ºè¯** (SceneManager)
   - è‡ªåŠ¨è¯†åˆ«ä»»åŠ¡ç±»å‹
   - æ³¨å…¥é¢†åŸŸç‰¹å®šæŒ‡å¯¼

**å…³é”®æ–‡ä»¶**: `src/core/planner.rs` (çº¦ 2500+ è¡Œ)

**æ ¸å¿ƒæ–¹æ³•**:
- `generate_plan_with_sender()` - é¦–æ¬¡è§„åˆ’
- `replan_task()` - é‡æ–°è§„åˆ’
- `select_relevant_tools()` - é¦–æ¬¡å·¥å…·ç­›é€‰
- `select_tools_for_replanning()` - é‡æ–°è§„åˆ’å·¥å…·ç­›é€‰

---

### 3. Executor (æ‰§è¡Œå™¨)

**èŒè´£**: æ­¥éª¤æ‰§è¡Œã€å‚æ•°ç®¡ç†

**å…³é”®åŠŸèƒ½**:

1. **å¹¶è¡Œæ‰§è¡Œè°ƒåº¦**
   - DAGä¾èµ–åˆ†æ
   - æ‹“æ‰‘æ’åº
   - å¹¶å‘æ§åˆ¶

2. **å‚æ•°è§£æä¸æ¨æ–­**
   - å ä½ç¬¦æ›¿æ¢ï¼ˆ`{{xxx}}`ï¼‰
   - åŠ¨æ€å‚æ•°æ¨æ–­ï¼ˆLLMé©±åŠ¨ï¼‰

3. **æ•°æ®æ§½ä½æµè½¬**
   - initial_metadata â†’ runtime_metadata
   - step_results â†’ å‚æ•°å¼•ç”¨

**å…³é”®æ–‡ä»¶**:
- `src/core/executor.rs` - æ‰§è¡Œå™¨ä¸»ä½“
- `src/core/parallel_executor.rs` - å¹¶è¡Œæ‰§è¡Œ
- `src/core/parameter_resolver.rs` - å‚æ•°è§£æ

**æ ¸å¿ƒæ–¹æ³•**:
- `execute_plan()` - è®¡åˆ’æ‰§è¡Œå…¥å£
- `execute_steps_sequentially()` - ä¸²è¡Œæ‰§è¡Œ
- `execute_steps_in_parallel()` - å¹¶è¡Œæ‰§è¡Œ

---

### 4. Reflector (åæ€å™¨)

**èŒè´£**: å¤±è´¥åˆ†æã€å†³ç­–ç”Ÿæˆ

**ä¸¤çº§åæ€æ¶æ„**:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         ä¸¤çº§åæ€ååŒæ¶æ„                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                        â”‚
â”‚  Level 1: å•æ­¥åæ€ (Step-Level)        â”‚
â”‚  â€¢ å¿«é€Ÿåˆ†æå±€éƒ¨å¤±è´¥                     â”‚
â”‚  â€¢ æä¾›å³æ—¶æ¢å¤æ–¹æ¡ˆ                     â”‚
â”‚  â€¢ ç®€å•é—®é¢˜ â†’ ç›´æ¥æ¢å¤                  â”‚
â”‚  â€¢ å¤æ‚é—®é¢˜ â†’ è§¦å‘æ•´ä½“åæ€              â”‚
â”‚                                        â”‚
â”‚  Level 2: æ•´ä½“åæ€ (Overall)           â”‚
â”‚  â€¢ æ·±åº¦åˆ†æå…¨å±€é—®é¢˜                     â”‚
â”‚  â€¢ è¯„ä¼°å®Œæˆåº¦ä¸å¯æ¢å¤æ€§                 â”‚
â”‚  â€¢ LLMè‡ªä¸»å†³å®šæ˜¯å¦é‡è§„åˆ’                â”‚
â”‚  â€¢ æä¾›ç»†ç²’åº¦é‡è§„åˆ’ç­–ç•¥                 â”‚
â”‚                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**å…³é”®æ–‡ä»¶**:
- `src/core/reflector.rs` - åæ€æ ¸å¿ƒé€»è¾‘
- `src/llm/reflection_prompts.rs` - åæ€æç¤ºè¯

**æ ¸å¿ƒæ–¹æ³•**:
- `reflect_on_single_step()` - å•æ­¥åæ€
- `perform_overall_reflection()` - æ•´ä½“åæ€
- `parse_replanning_strategy()` - ç­–ç•¥è§£æ

---

### 5. UnifiedLlmClient (LLMå®¢æˆ·ç«¯)

**èŒè´£**: LLMè°ƒç”¨å°è£…

**æ ¸å¿ƒåŠŸèƒ½**:

1. **æµå¼/éæµå¼è°ƒç”¨**
   ```rust
   // éæµå¼
   let response = llm_client.call(system, user, None).await?;

   // æµå¼
   let mut stream = llm_client.call_stream(system, user, None).await?;
   while let Some(chunk) = stream.next().await {
       // å¤„ç†æµå¼å—
   }
   ```

2. **å¤šæ¨¡å‹æ”¯æŒ**
   - ç»Ÿä¸€æ¥å£
   - æ¨¡å‹åˆ‡æ¢
   - é™çº§ç­–ç•¥

3. **æç¤ºè¯ç®¡ç†**
   - åœºæ™¯æ„ŸçŸ¥æç¤ºè¯
   - åŠ¨æ€æ¨¡æ¿æ›¿æ¢

**å…³é”®æ–‡ä»¶**: `src/llm/unified_client.rs`

---

### 6. æç¤ºè¯ç³»ç»Ÿ

**åˆ†å±‚è®¾è®¡**:

```
src/llm/
â”œâ”€â”€ prompts.rs                    # åŸºç¡€æç¤ºè¯ï¼ˆå·²å¼ƒç”¨ï¼‰
â”œâ”€â”€ selection_prompts.rs          # å·¥å…·ç­›é€‰æç¤ºè¯ï¼ˆåŒæ¨¡å¼ï¼‰
â”œâ”€â”€ planning_prompts.rs           # ä»»åŠ¡åˆ†è§£æç¤ºè¯
â”œâ”€â”€ reflection_prompts.rs         # åæ€æç¤ºè¯ï¼ˆä¸¤çº§ï¼‰
â”œâ”€â”€ replanning_prompts.rs         # é‡è§„åˆ’æç¤ºè¯ï¼ˆç­–ç•¥æ”¯æŒï¼‰
â”œâ”€â”€ continue_planning_prompts.rs  # ç»§ç»­è§„åˆ’æç¤ºè¯ï¼ˆç­–ç•¥åˆ¤æ–­ï¼‰
â”œâ”€â”€ scene_guidance.rs             # åœºæ™¯ç®¡ç†å™¨
â””â”€â”€ parameter_inference_prompts.rs # åŠ¨æ€å‚æ•°æ¨æ–­
```

**åœºæ™¯æ„ŸçŸ¥æœºåˆ¶** (SceneManager):

| ä»»åŠ¡ç±»å‹ | åŒ¹é…æ¨¡å¼ | é¢†åŸŸæŒ‡å¯¼ |
|---------|---------|---------|
| å·¥å…·ç®¡ç† | ç²¾ç¡®åŒ¹é… | åˆ›å»º/æ³¨å†Œ/æµ‹è¯•æµç¨‹ |
| è‡ªåŠ¨å»ºæ¨¡ | ç²¾ç¡®åŒ¹é… | æ•°æ®é‡‡é›†â†’å»ºæ¨¡â†’éªŒè¯ |
| PLCæ§åˆ¶å™¨ | ç²¾ç¡®åŒ¹é… | åè®®â†’è¿æ¥â†’æŒ‡ä»¤ |
| å®¢æˆ·ç«¯æ“ä½œ | ç²¾ç¡®åŒ¹é… | è¿æ¥â†’æŸ¥è¯¢â†’æ§åˆ¶ |
| é€šç”¨ | é»˜è®¤å…œåº• | é€šç”¨ä»»åŠ¡æŒ‡å¯¼ |

**å…³é”®æ–‡ä»¶**: `src/llm/scene_guidance.rs`

---

## æ•°æ®æµè½¬æœºåˆ¶

### ä¸‰å±‚æ•°æ®å­˜å‚¨

```rust
// æ‰§è¡Œä¸Šä¸‹æ–‡ (ExecutionContext)
pub struct ExecutionContext {
    // 1ï¸âƒ£ åˆå§‹å…ƒæ•°æ®ï¼ˆç”¨æˆ·æäº¤ï¼‰
    initial_metadata: HashMap<String, String>,

    // 2ï¸âƒ£ è¿è¡Œæ—¶å…ƒæ•°æ®ï¼ˆåŠ¨æ€æ›´æ–°ï¼‰
    runtime_metadata: Arc<RwLock<HashMap<String, String>>>,

    // 3ï¸âƒ£ æ­¥éª¤ç»“æœï¼ˆå®Œæ•´è¾“å‡ºï¼‰
    step_results: Arc<RwLock<HashMap<String, StepExecutionResult>>>,
}
```

### æ•°æ®æµè½¬æµç¨‹

```
ã€æ­¥éª¤1æ‰§è¡Œã€‘
  tool_output: "device_001"
      â”‚
      â†“
  ã€è‡ªåŠ¨æµå…¥ runtime_metadataã€‘
      metadata["device_id"] = "device_001"
      â”‚
      â†“
  ã€æ­¥éª¤2å‚æ•°è§£æã€‘
      å‚æ•°æ¨¡æ¿: {"id": "{{metadata.device_id}}"}
      â†“
      è§£æå: {"id": "device_001"}
      â”‚
      â†“
  ã€æ­¥éª¤2æ‰§è¡Œã€‘
      ä½¿ç”¨è§£æåçš„å‚æ•°è°ƒç”¨å·¥å…·
```

**å…³é”®æ–‡ä»¶**: `src/core/execution_context.rs`

---

## å…³é”®æŠ€æœ¯ç‰¹æ€§

### 1. ä¸¤é˜¶æ®µè§„åˆ’ (Two-Stage Planning)

**è®¾è®¡èƒŒæ™¯**: ä¼ ç»Ÿå•é˜¶æ®µè§„åˆ’é¢ä¸´çš„é—®é¢˜
- å·¥å…·æ•°é‡å¤šï¼ˆ50+ï¼‰å¯¼è‡´Tokenæ¶ˆè€—å¤§
- æç¤ºè¯å†—é•¿å½±å“LLMå†³ç­–è´¨é‡
- è§„åˆ’æ—¶é—´é•¿ã€æˆæœ¬é«˜

**è§£å†³æ–¹æ¡ˆ**: åˆ†ç¦»å…³æ³¨ç‚¹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          ä¸¤é˜¶æ®µè§„åˆ’ Token ä¼˜åŒ–æ•ˆæœ                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                    â”‚
â”‚  ä¼ ç»Ÿå•é˜¶æ®µ:                                        â”‚
â”‚    å·¥å…·ä¿¡æ¯ (å®Œæ•´) Ã— 50 = ~25000 tokens           â”‚
â”‚    â†“                                              â”‚
â”‚    ä»»åŠ¡åˆ†è§£                                        â”‚
â”‚                                                    â”‚
â”‚  ä¸¤é˜¶æ®µè§„åˆ’:                                        â”‚
â”‚    é˜¶æ®µ1: å·¥å…·ä¿¡æ¯ (ç®€åŒ–) Ã— 50 = ~10000 tokens    â”‚
â”‚            â†“ ç­›é€‰å: 10ä¸ªå·¥å…·                      â”‚
â”‚    é˜¶æ®µ2: å·¥å…·ä¿¡æ¯ (å®Œæ•´) Ã— 10 = ~5000 tokens     â”‚
â”‚            â†“                                      â”‚
â”‚            ä»»åŠ¡åˆ†è§£                                â”‚
â”‚                                                    â”‚
â”‚  Token èŠ‚çœ: 50-76%                               â”‚
â”‚                                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ä¼˜åŠ¿**:
- âœ… Tokenæ¶ˆè€—å‡å°‘ 50-76%
- âœ… è§„åˆ’æ—¶é—´ç¼©çŸ­ 30-50%
- âœ… å†³ç­–è´¨é‡æå‡ï¼ˆèšç„¦ç›¸å…³å·¥å…·ï¼‰
- âœ… æ”¯æŒæµå¼æ¨é€ç­›é€‰ç»“æœ

**é…ç½®**:
```toml
[orchestrator]
enable_two_stage_planning = true
two_stage_tool_threshold = 20
```

---

### 2. åŒæ¨¡å¼å·¥å…·ç­›é€‰ (Dual-Mode Tool Selection) ğŸ†•

**æ ¸å¿ƒç†å¿µ**: é¦–æ¬¡è§„åˆ’ vs é‡æ–°è§„åˆ’éœ€è¦ä¸åŒçš„ç­›é€‰ç­–ç•¥

| ç»´åº¦ | é¦–æ¬¡è§„åˆ’ç­›é€‰ | é‡æ–°è§„åˆ’ç­›é€‰ |
|------|------------|------------|
| **è¾“å…¥** | ä»»åŠ¡æè¿°ã€ä¸Šä¸‹æ–‡ | + æ‰§è¡Œå†å²ã€å·¥å…·æ•ˆæœã€åæ€ç»“æœ |
| **ç­–ç•¥** | é¢„æµ‹æ€§ï¼ˆè¯­ä¹‰åŒ¹é…ï¼‰ | ä¿®æ­£æ€§ï¼ˆä¿ç•™/æ›¿æ¢/è¡¥å……ï¼‰ |
| **ç›®æ ‡** | è¦†ç›–å®Œæ•´ã€å®å¯å¤šé€‰ | ç²¾å‡†ä¼˜åŒ–ã€é¿å…é‡å¤å¤±è´¥ |
| **æç¤ºè¯** | åŸºäºéœ€æ±‚é¢„æµ‹ | åŸºäºæ‰§è¡Œåé¦ˆ |

**å®ç°**:
- `select_relevant_tools()` - é¦–æ¬¡ç­›é€‰
- `select_tools_for_replanning()` - é‡æ–°ç­›é€‰

**æ•ˆæœ**:
- é‡æ–°è§„åˆ’æ—¶å·¥å…·é€‰æ‹©å‡†ç¡®ç‡æå‡ 40%
- é¿å…é‡å¤é€‰æ‹©å·²è¯æ˜æ— æ•ˆçš„å·¥å…·

---

### 3. LLMæ™ºèƒ½ç­–ç•¥åˆ¤æ–­ (Strategy Detection) ğŸ†•

**èƒŒæ™¯**: ä¼ ç»Ÿå…³é”®è¯åŒ¹é…å‡†ç¡®ç‡ä½ï¼ˆ~70%ï¼‰

**å‡çº§æ–¹æ¡ˆ**: LLMæ™ºèƒ½åˆ¤æ–­

```rust
detect_planning_strategy_with_llm(task_description, llm_client)
  â†“
  LLMåˆ†æ: ä»»åŠ¡æ„å›¾ã€ä¸Šä¸‹æ–‡ã€æ˜¯å¦å»¶ç»­
  â†“
  è¿”å›: {
      strategy: ContinuePlanning,
      confidence: 95.0,
      reasoning: "ç”¨æˆ·æ˜ç¡®è¡¨ç¤º'ç»§ç»­'ï¼Œä¸”æä¾›äº†ä»»åŠ¡ID"
  }
```

**æ•ˆæœ**:
- å‡†ç¡®ç‡: 70% â†’ 95%
- æ”¯æŒè‡ªç„¶è¯­è¨€ï¼ˆ"æ¥ç€åš"ã€"ç»§ç»­æ‰§è¡Œ"ï¼‰
- æä¾›ç½®ä¿¡åº¦å’Œæ¨ç†è¿‡ç¨‹

**é™çº§ç­–ç•¥**: LLMè°ƒç”¨å¤±è´¥æ—¶å›é€€åˆ°å…³é”®è¯åŒ¹é…

---

### 4. åœºæ™¯æ„ŸçŸ¥æç¤ºè¯ (Scene-Aware Prompts)

**è®¾è®¡**: SceneManager ç®¡ç†é¢†åŸŸç‰¹å®šæŒ‡å¯¼

**å·¥ä½œæµç¨‹**:
```
ä»»åŠ¡æäº¤ â†’ æå–æ„å›¾ â†’ åŒ¹é…åœºæ™¯ â†’ æ³¨å…¥é¢†åŸŸæŒ‡å¯¼
```

**ç¤ºä¾‹**: å·¥å…·ç®¡ç†åœºæ™¯

```markdown
ã€å·¥å…·ç®¡ç†åœºæ™¯æŒ‡å¯¼ã€‘
æ ¸å¿ƒæµç¨‹: åˆ›å»ºå·¥å…· â†’ æ³¨å†Œå·¥å…· â†’ æµ‹è¯•å·¥å…· â†’ éƒ¨ç½²å·¥å…·

å…³é”®æ­¥éª¤:
1. ç”Ÿæˆå·¥å…·é…ç½® (genesis_document_generate)
2. æ³¨å†Œåˆ°å·¥å…·åº“ (genesis_tool_register)
3. æ‰§è¡Œæµ‹è¯•éªŒè¯ (genesis_tool_test)
4. æŸ¥çœ‹æ³¨å†Œç»“æœ (genesis_tool_list)

æ³¨æ„äº‹é¡¹:
- å¿…é¡»å…ˆç”Ÿæˆé…ç½®æ–‡ä»¶æ‰èƒ½æ³¨å†Œ
- æ³¨å†Œæ—¶éœ€è¦æä¾›é…ç½®æ–‡ä»¶è·¯å¾„
- æµ‹è¯•æ—¶éœ€è¦æ˜ç¡®æµ‹è¯•ç”¨ä¾‹
```

**æ•ˆæœ**: é¢†åŸŸä»»åŠ¡æˆåŠŸç‡æå‡ 30%

---

### 5. å¹¶è¡Œæ‰§è¡Œä¼˜åŒ– (Parallel Execution)

**DAGä¾èµ–åˆ†æ**:

```rust
// ä¾èµ–å…³ç³»
let dependencies: HashMap<StepId, Vec<StepId>> = ...;

// æ‹“æ‰‘æ’åº + å±‚çº§åˆ†ç»„
let levels = topological_sort_with_levels(dependencies);

// æŒ‰å±‚çº§å¹¶è¡Œæ‰§è¡Œ
for level in levels {
    let futures = level.iter().map(|step| execute_step(step));
    join_all(futures).await;
}
```

**æ•ˆæœ**:
- 3æ­¥ç‹¬ç«‹ä»»åŠ¡: ä¸²è¡Œ 60s â†’ å¹¶è¡Œ 20s
- æ€§èƒ½æå‡ 3x

**é…ç½®**:
```toml
[orchestrator]
enable_parallel_execution = true
parallel_max_concurrent = 5
parallel_min_steps = 3
```

---

### 6. åŠ¨æ€å‚æ•°æ¨æ–­ (Dynamic Parameter Inference)

**åœºæ™¯**: å·¥å…·éœ€è¦çš„å‚æ•°æ— æ³•åœ¨è§„åˆ’æ—¶ç¡®å®š

**è§£å†³æ–¹æ¡ˆ**: LLMé©±åŠ¨çš„å‚æ•°ç”Ÿæˆ

```rust
// è§„åˆ’æ—¶: å‚æ•°ç•™ç©ºæˆ–æ ‡è®°ä¸ºåŠ¨æ€
parameters: {
    "dynamic": true  // æ ‡è®°ä¸ºéœ€è¦åŠ¨æ€æ¨æ–­
}

// æ‰§è¡Œå‰: LLMæ¨æ–­å‚æ•°
let inferred_params = llm_client.infer_parameters(
    tool_id,
    execution_context,
    previous_steps_output
).await?;

// æ‰§è¡Œæ—¶: ä½¿ç”¨æ¨æ–­çš„å‚æ•°
execute_tool(tool_id, inferred_params).await?;
```

**æ•ˆæœ**: æ”¯æŒå¤æ‚ä¾èµ–çš„åŠ¨æ€ä»»åŠ¡

**é…ç½®**:
```toml
[debug]
enable_dynamic_parameter_inference = true
```

---

### 7. ä¸Šä¸‹æ–‡å·¥ç¨‹äº‹ä»¶ (Context Engineering Events)

**è®¾è®¡**: å®Œæ•´è®°å½•æ‰§è¡Œè¿‡ç¨‹ï¼Œä½œä¸ºåæ€å’Œé‡è§„åˆ’çš„è¾“å…¥

**æ•°æ®ç»“æ„**:
```rust
ContextEngineeringEvent {
    task_description: String,
    successful_steps: Vec<SuccessfulStepInfo>,
    failed_steps: Vec<FailedStepInfo>,
    formatted_text: String,  // äººç±»å¯è¯»æ ¼å¼
}
```

**æ ¼å¼åŒ–æ–‡æœ¬ç¤ºä¾‹**:
```markdown
ä»»åŠ¡æè¿°: åˆ›å»ºBIMæ•°å­—å­ªç”Ÿå·¥å…·

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“Š æ‰§è¡Œç»Ÿè®¡æ‘˜è¦
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  â€¢ å½“å‰åæ€è½®æ¬¡: ç¬¬ 2 è½®
  â€¢ ç´¯è®¡æ­¥éª¤é‡è¯•æ¬¡æ•°: 3 æ¬¡
  â€¢ ç´¯è®¡ä»»åŠ¡é‡è§„åˆ’æ¬¡æ•°: 1 æ¬¡
  â€¢ æˆåŠŸæ­¥éª¤æ•°: 5
  â€¢ å¤±è´¥æ­¥éª¤æ•°: 2

æˆåŠŸæ­¥éª¤åˆ—è¡¨:
æ­¥éª¤ #1: ç”Ÿæˆå·¥å…·é…ç½®
  æ­¥éª¤ID: step_1
  å·¥å…·ID: genesis_document_generate
  å·¥å…·è¾“å‡º:
    {"config_path": "/tmp/tool_config.json"}

å¤±è´¥æ­¥éª¤åˆ—è¡¨:
æ­¥éª¤ #1: æ³¨å†Œå·¥å…·
  æ­¥éª¤ID: step_2
  å·¥å…·ID: genesis_tool_register
  é”™è¯¯ä¿¡æ¯:
    é…ç½®æ–‡ä»¶è·¯å¾„ä¸å­˜åœ¨
  åæ€ä¸æ“ä½œ:
    å‚æ•°é”™è¯¯ï¼Œconfig_pathåº”è¯¥ä½¿ç”¨step_1çš„è¾“å‡º
```

**ä½œç”¨**:
- åæ€æ—¶: å®Œæ•´çš„æ‰§è¡Œä¸Šä¸‹æ–‡
- é‡è§„åˆ’æ—¶: é¿å…é‡å¤é”™è¯¯çš„å‚è€ƒ
- ä»»åŠ¡è¯„ä¼°: å¤ç›˜ä¾æ®

---

### 8. Kafkaæ—¥å¿—ç³»ç»Ÿ

**ä¸‰å¤§ä¸»é¢˜**:

| ä¸»é¢˜ | ç”¨é€” | å‘é€ç‚¹ |
|------|------|--------|
| `audit_logs` | å®¡è®¡æ—¥å¿— | ä»»åŠ¡åˆ›å»ºã€çŠ¶æ€å˜æ›´ |
| `tool_execution_logs` | å·¥å…·æ‰§è¡Œæ—¥å¿— | å·¥å…·è°ƒç”¨å‰å |
| `task_events` | ä»»åŠ¡äº‹ä»¶ | æ­¥éª¤å¼€å§‹/å®Œæˆã€è§„åˆ’ç”Ÿæˆ |

**é…ç½®**:
```toml
[logging.kafka]
enabled = true
brokers = ["localhost:9092"]
```

**å…³é”®æ–‡ä»¶**: `src/logging/kafka_logger.rs`

---

### 9. æœåŠ¡ç«¯äº‹ä»¶æ¨é€ (SSE)

**ç”¨é€”**: å®æ—¶æ¨é€ä»»åŠ¡è¿›åº¦ç»™å‰ç«¯

**äº‹ä»¶ç±»å‹**:
- `TaskStatus` - ä»»åŠ¡çŠ¶æ€å˜æ›´
- `PlanGenerated` - è®¡åˆ’ç”Ÿæˆ
- `StepStarted` - æ­¥éª¤å¼€å§‹
- `StepCompleted` - æ­¥éª¤å®Œæˆ
- `ProgressUpdate` - è¿›åº¦æ›´æ–°
- `LlmStreamChunk` - LLMæµå¼è¾“å‡º

**é…ç½®**:
```toml
[response]
mode = "user"  # useræ¨¡å¼å¯ç”¨SSEæ¨é€
```

---

## ä»£ç æ˜ å°„

### æ ¸å¿ƒæ¨¡å—æ–‡ä»¶

```
src/core/
â”œâ”€â”€ orchestrator.rs          (~3000 è¡Œ) - æ ¸å¿ƒç¼–æ’é€»è¾‘
â”œâ”€â”€ planner.rs              (~2500 è¡Œ) - è§„åˆ’ä¸å·¥å…·ç­›é€‰
â”œâ”€â”€ executor.rs             (~1500 è¡Œ) - æ‰§è¡Œä¸å‚æ•°ç®¡ç†
â”œâ”€â”€ parallel_executor.rs    (~800 è¡Œ)  - å¹¶è¡Œæ‰§è¡Œè°ƒåº¦
â”œâ”€â”€ reflector.rs            (~1400 è¡Œ) - ä¸¤çº§åæ€
â”œâ”€â”€ evaluator.rs            (~600 è¡Œ)  - ç»“æœè¯„ä¼°
â”œâ”€â”€ execution_context.rs    (~400 è¡Œ)  - æ‰§è¡Œä¸Šä¸‹æ–‡
â”œâ”€â”€ parameter_resolver.rs   (~300 è¡Œ)  - å‚æ•°è§£æ
â”œâ”€â”€ dag_analyzer.rs         (~250 è¡Œ)  - DAGåˆ†æ
â””â”€â”€ post_task_evaluator.rs  (~200 è¡Œ)  - ä»»åŠ¡åè¯„ä¼°
```

### æç¤ºè¯æ¨¡å—æ–‡ä»¶

```
src/llm/
â”œâ”€â”€ selection_prompts.rs          (~1095 è¡Œ) - å·¥å…·ç­›é€‰æç¤ºè¯ï¼ˆåŒæ¨¡å¼ï¼‰
â”œâ”€â”€ planning_prompts.rs           (~900 è¡Œ)  - ä»»åŠ¡åˆ†è§£æç¤ºè¯
â”œâ”€â”€ reflection_prompts.rs         (~1459 è¡Œ) - åæ€æç¤ºè¯ï¼ˆä¸¤çº§ï¼‰
â”œâ”€â”€ replanning_prompts.rs         (~600 è¡Œ)  - é‡è§„åˆ’æç¤ºè¯
â”œâ”€â”€ continue_planning_prompts.rs  (~650 è¡Œ)  - ç»§ç»­è§„åˆ’+ç­–ç•¥åˆ¤æ–­
â”œâ”€â”€ scene_guidance.rs             (~500 è¡Œ)  - åœºæ™¯ç®¡ç†
â”œâ”€â”€ parameter_inference_prompts.rs (~300 è¡Œ) - åŠ¨æ€å‚æ•°æ¨æ–­
â””â”€â”€ unified_client.rs             (~800 è¡Œ)  - LLMå®¢æˆ·ç«¯å°è£…
```

### åŠŸèƒ½åˆ°ä»£ç æ˜ å°„

| åŠŸèƒ½ | æ ¸å¿ƒæ–‡ä»¶ | å…³é”®æ–¹æ³•/ç»“æ„ |
|------|---------|-------------|
| **ç­–ç•¥åˆ¤æ–­** | `continue_planning_prompts.rs` | `detect_planning_strategy_with_llm()` |
| **é¦–æ¬¡å·¥å…·ç­›é€‰** | `planner.rs:481-611` | `select_relevant_tools()` |
| **é‡æ–°è§„åˆ’å·¥å…·ç­›é€‰** | `planner.rs:1845-2071` | `select_tools_for_replanning()` |
| **ä»»åŠ¡åˆ†è§£** | `planner.rs` | `generate_plan_with_sender()` |
| **å¹¶è¡Œæ‰§è¡Œ** | `parallel_executor.rs` | `execute_steps_in_parallel()` |
| **å‚æ•°è§£æ** | `parameter_resolver.rs` | `ParameterResolver::resolve()` |
| **å•æ­¥åæ€** | `reflector.rs:1072-1288` | `reflect_on_single_step()` |
| **æ•´ä½“åæ€** | `reflector.rs:376-511` | `perform_overall_reflection()` |
| **é‡æ–°è§„åˆ’** | `planner.rs` | `replan_task()` |
| **ä¸Šä¸‹æ–‡å·¥ç¨‹** | `orchestrator.rs` | `ContextEngineeringEventBuilder` |

---

## é…ç½®è¯´æ˜

### æ ¸å¿ƒé…ç½®é¡¹

```toml
# config.toml ç¤ºä¾‹

[orchestrator]
# åæ€ä¸é‡è§„åˆ’
max_reflection_rounds = 5          # âš ï¸ å·²å¼ƒç”¨ï¼šLLMè‡ªä¸»å†³å®šè½®æ•°
success_threshold = 75.0           # æˆåŠŸè¯„åˆ†é˜ˆå€¼
task_timeout_secs = 600            # ä»»åŠ¡è¶…æ—¶ï¼ˆç§’ï¼‰

# ä¸¤é˜¶æ®µè§„åˆ’
enable_two_stage_planning = true   # å¯ç”¨ä¸¤é˜¶æ®µè§„åˆ’
two_stage_tool_threshold = 20      # è§¦å‘ä¸¤é˜¶æ®µçš„å·¥å…·æ•°é˜ˆå€¼
tool_selection_threshold = 75.0    # å·¥å…·ç­›é€‰ç›¸ä¼¼åº¦é˜ˆå€¼

# å¹¶è¡Œæ‰§è¡Œ
enable_parallel_execution = true   # å¯ç”¨å¹¶è¡Œæ‰§è¡Œ
parallel_max_concurrent = 5        # æœ€å¤§å¹¶å‘æ•°
parallel_min_steps = 3             # æœ€å°æ­¥éª¤æ•°é˜ˆå€¼

# å†…ç½®æµç¨‹
enable_builtin_workflows = false   # å¯ç”¨å†…ç½®ä»»åŠ¡æµç¨‹

[debug]
# åŠ¨æ€å‚æ•°æ¨æ–­
enable_dynamic_parameter_inference = true

# è°ƒè¯•æ—¥å¿—
save_debug_log = true
debug_log_file = "debug.log"

[response]
# å“åº”æ¨¡å¼
mode = "user"  # user: SSEæ¨é€ | developer: ç›´æ¥è¿”å›

[llm]
# æµå¼é…ç½®
enable_streaming = true
max_streaming_indicators = 10

[logging.kafka]
enabled = true
brokers = ["localhost:9092"]
```

---

## æ€»ç»“

### ç³»ç»Ÿç‰¹ç‚¹

1. **æ™ºèƒ½å†³ç­–**: LLMé©±åŠ¨çš„ç«¯åˆ°ç«¯æ™ºèƒ½ç¼–æ’
2. **è‡ªé€‚åº”è§„åˆ’**: åŸºäºæ‰§è¡Œåé¦ˆåŠ¨æ€è°ƒæ•´ç­–ç•¥
3. **æ·±åº¦åæ€**: ä¸¤çº§åæ€æ¶æ„ç¡®ä¿é—®é¢˜å‡†ç¡®è¯Šæ–­
4. **å·¥å…·æ™ºèƒ½ç­›é€‰**: åŒæ¨¡å¼ç­›é€‰ä¼˜åŒ–å·¥å…·é€‰æ‹©
5. **å¹¶è¡Œä¼˜åŒ–**: DAGåˆ†æå®ç°é«˜æ•ˆå¹¶è¡Œæ‰§è¡Œ
6. **å®Œæ•´ä¸Šä¸‹æ–‡**: æ‰§è¡Œå†å²ä½œä¸ºå•ä¸€çœŸç†æ¥æº
7. **é«˜åº¦å¯é…ç½®**: æ”¯æŒå¤šç§æ¨¡å¼å’Œç­–ç•¥åˆ‡æ¢

### æ ¸å¿ƒä¼˜åŠ¿

- âœ… **Tokenä¼˜åŒ–**: ä¸¤é˜¶æ®µè§„åˆ’èŠ‚çœ 50-76% Token
- âœ… **å‡†ç¡®ç‡æå‡**: LLMç­–ç•¥åˆ¤æ–­å‡†ç¡®ç‡ 95%
- âœ… **æ¢å¤èƒ½åŠ›**: ç»†ç²’åº¦é‡è§„åˆ’ç­–ç•¥æå‡æˆåŠŸç‡
- âœ… **æ€§èƒ½ä¼˜åŒ–**: å¹¶è¡Œæ‰§è¡Œæå‡ 3x æ€§èƒ½
- âœ… **å·¥å…·ä¼˜åŒ–**: åŸºäºåé¦ˆçš„å·¥å…·ç­›é€‰æå‡ 40% å‡†ç¡®ç‡
- âœ… **æ™ºèƒ½å†³ç­–**: æ— ç¡¬ç¼–ç è§„åˆ™ï¼ŒLLMè‡ªä¸»å†³å®š

### æŠ€æœ¯äº®ç‚¹

1. **Rustå¼‚æ­¥ç”Ÿæ€**: Tokio + async/await é«˜æ€§èƒ½å¹¶å‘
2. **gRPCåŒå‘é€šä¿¡**: å®æ—¶äº‹ä»¶æ¨é€ä¸çŠ¶æ€åŒæ­¥
3. **Kafkaæ—¥å¿—ç³»ç»Ÿ**: å®Œæ•´çš„å®¡è®¡è¿½è¸ªä¸ç›‘æ§
4. **åœºæ™¯æ„ŸçŸ¥æç¤ºè¯**: é¢†åŸŸç‰¹å®šæŒ‡å¯¼æå‡æˆåŠŸç‡
5. **ä¸Šä¸‹æ–‡å·¥ç¨‹**: å®Œæ•´çš„æ‰§è¡Œå†å²ä¼ é€’æœºåˆ¶

---

## ç›¸å…³æ–‡æ¡£

### å…¥é—¨æ–‡æ¡£
- [05-æç¤ºè¯ç³»ç»Ÿä¸æ ¸å¿ƒå·¥ä½œæµç¨‹.md](./é¡¹ç›®å®ç°ç»†èŠ‚ç›¸å…³çš„æ–‡æ¡£/04-æç¤ºè¯ç›¸å…³/5-æç¤ºè¯ç³»ç»Ÿä¸æ ¸å¿ƒå·¥ä½œæµç¨‹.md)
- [æ ¸å¿ƒé€»è¾‘æ–‡æ¡£ç´¢å¼•.md](./é¡¹ç›®å®ç°ç»†èŠ‚ç›¸å…³çš„æ–‡æ¡£/æ ¸å¿ƒé€»è¾‘æ–‡æ¡£ç´¢å¼•.md)

### æ·±å…¥é˜…è¯»
- [25-åæ€ä¸å·¥å…·ç­›é€‰ååŒæœºåˆ¶æ€»è§ˆ.md](./é¡¹ç›®å®ç°ç»†èŠ‚ç›¸å…³çš„æ–‡æ¡£/03-åæ€ä¸æ¢å¤/25-åæ€ä¸å·¥å…·ç­›é€‰ååŒæœºåˆ¶æ€»è§ˆ.md) ğŸ”¥
- [04-ä¸¤é˜¶æ®µè§„åˆ’æ¶æ„ä¸å®ç°.md](./é¡¹ç›®å®ç°ç»†èŠ‚ç›¸å…³çš„æ–‡æ¡£/02-è§„åˆ’ç³»ç»Ÿ/4-ä¸¤é˜¶æ®µè§„åˆ’æ¶æ„ä¸å®ç°.md)
- [22-LLMæ™ºèƒ½è§„åˆ’ç­–ç•¥åˆ¤æ–­.md](./é¡¹ç›®å®ç°ç»†èŠ‚ç›¸å…³çš„æ–‡æ¡£/02-è§„åˆ’ç³»ç»Ÿ/22-LLMæ™ºèƒ½è§„åˆ’ç­–ç•¥åˆ¤æ–­.md)
- [19-åæ€æœºåˆ¶è®¾è®¡ä¸å®ç°æ–‡æ¡£.md](./é¡¹ç›®å®ç°ç»†èŠ‚ç›¸å…³çš„æ–‡æ¡£/03-åæ€ä¸æ¢å¤/19-åæ€æœºåˆ¶è®¾è®¡ä¸å®ç°æ–‡æ¡£.md)

---

**æœ€åæ›´æ–°**: 2026-01-15
**æ–‡æ¡£ç‰ˆæœ¬**: v1.0
**ç»´æŠ¤è€…**: Task Orchestration Team
